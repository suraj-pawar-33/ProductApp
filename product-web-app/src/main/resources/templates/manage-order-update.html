<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>New Order</title>
		<meta name="description" content="">
		<meta name="author" content="templatemo">
		<!-- 
    Visual Admin Template
    https://templatemo.com/tm-455-visual-admin
    -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,700' rel='stylesheet' type='text/css'>
    <link href="" th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/css/font-awesome.min.css'" rel="stylesheet">
    <link href="" th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/css/bootstrap.min.css'" rel="stylesheet">
    <link href="" th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/css/templatemo-style.css'" rel="stylesheet">
    
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	</head>

	<body>
		<!-- Left column -->
		<div class="templatemo-flex-row">
			<div class="templatemo-sidebar">
				<header class="templatemo-site-header">
					<div class="square"></div>
					<h1>New Order</h1>
				</header>
				<div class="profile-photo-container">
					<img th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/images/profile-photo.jpg'" alt="Profile Photo" class="img-responsive">
					<div class="profile-photo-overlay"></div>
				</div>
				<!-- Search box -->
				<form class="templatemo-search-form" role="search">
					<div class="input-group">
						<button type="submit" class="fa fa-search"></button>
						<input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
					</div>
				</form>
				<div class="mobile-menu-icon">
					<i class="fa fa-bars"></i>
				</div>
				<nav class="templatemo-left-nav">
					<ul>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/index'"><i
									class="fa fa-home fa-fw"></i>Dashboard</a></li>
						<li><a href="#" class="active"><i class="fa fa-map-marker fa-fw"></i>Orders</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/manage-orders'"><i
									class="fa fa-users fa-fw"></i>Manage Product</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/manage-bank'"><i
									class="fa fa-map-marker fa-fw"></i>Manage Bank</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/maps'"><i
									class="fa fa-map-marker fa-fw"></i>Maps</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/manage-users'"><i
									class="fa fa-users fa-fw"></i>Manage Users</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/preferences'"><i
									class="fa fa-sliders fa-fw"></i>Preferences</a></li>
						<li><a
								th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/login'"><i
									class="fa fa-eject fa-fw"></i>Sign Out</a></li>
					</ul>
				</nav>
			</div>
			<!-- Main content -->
			<div class="templatemo-content col-1 light-gray-bg">
				<div class="templatemo-top-nav-container">
					<div class="row">
						<nav class="templatemo-top-nav col-lg-12 col-md-12">
							<ul class="text-uppercase">
				                <li><a th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/manage-orders'">Manage Orders</a></li>
				                <li><a th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/manage-order-new'" >Add New Order</a></li>
				                <li><a href="#"class="active">Update Order</a></li>
				                <li><a th:href="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/login'">Sign in form</a></li>
							</ul>
						</nav>
					</div>
				</div>
				<div class="templatemo-content-container">
					<form class="templatemo-login-form" action="#" th:action="@{'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/api/npd/order/update'}"
						th:object="${order}" method="post">
						<div class="templatemo-flex-row flex-content-row">
							<div class="col-1">
								<div class="panel panel-default margin-10">
									<div class="panel-heading">
										<h2 class="text-uppercase">Order Manager</h2>
									</div>
									<div class="panel-body">
										<div class="form-group">
											<label for="billNumber">Bill Number</label>
                      						<input type="hidden" th:field="*{key}" class="form-control" id="orderKey">
											<input type="text" th:field="*{billNumber}" class="form-control"
												id="billNumber" placeholder="Enter bill number">
										</div>
										<div class="form-group">
											<label for="banks" class="control-label templatemo-block">Banks</label>
											<select class="form-control" id="banks" th:field="*{bankKey}">
												<option th:each="type : ${allBanks}" th:value="${type.key}"
													th:text="${type.bankName}">Select</option>
											</select>
										</div>
										<div class="form-group">
											<label for="dateOrderPlaced">Date Order Placed</label>
											<input type="datetime-local" th:field="*{dateOrderPlaced}"
												class="form-control" id="dateOrderPlaced"
												placeholder="Enter order placed date">
										</div>
										<div class="form-group">
											<label for="dateOrderPaid">Date Order Paid</label>
											<input type="datetime-local" th:field="*{dateOrderPaid}"
												class="form-control" id="dateOrderPaid"
												placeholder="Enter order paid date">
										</div>
										<div class="form-group">
											<label for="orderType" class="control-label templatemo-block">Order
												Type</label>
											<select class="form-control" id="orderType" th:field="*{ordTypeKey}">
												<option th:each="type : ${allOrderTypes}" th:value="${type.key}"
													th:text="${type.ordTypeName}">Select</option>
											</select>
										</div>
										<div class="form-group">
											<label for="status" class="control-label templatemo-block">Status</label>
											<select class="form-control" id="status" th:field="*{statusKey}">
												<option th:each="type : ${allStatuses}" th:value="${type.key}"
													th:text="${type.statusName}">Select</option>
											</select>
										</div>
										<div class="form-group">
											<label for="totalAmount">Total Amount</label>
											<input type="number" th:field="*{totalAmount}" class="form-control"
												id="totalAmount" placeholder="Enter total amount">
										</div>
									</div>
								</div>
							</div>
							<!-- Product selection -->
							<div class="col-1">
								<div class="h-75 templatemo-content-widget no-padding">
									<div id="product-table" class="panel panel-default table-responsive"
										th:unless="${#lists.isEmpty(order.order2product)}">
										<table class="table table-striped table-bordered templatemo-user-table" id="subproducttable">
											<thead>
												<tr>
													<td ><a href="" class="white-text templatemo-sort-by">No.<span
															class="caret"></span></a></td>
													
													<td th:text="#{product.productName}"><a href="" class="white-text templatemo-sort-by">Product Name <span
																class="caret"></span></a></td>
													<td th:text="#{product.proType.productTypeName}"><a href="" class="white-text templatemo-sort-by">Product Type <span
																class="caret"></span></a></td>
													<td th:text="#{order.quantity}"><a href="" class="white-text templatemo-sort-by">Quantity <span class="caret"></span></a>
													</td>
													<td th:text="#{order.amount}"><a href="" class="white-text templatemo-sort-by">Amount <span class="caret"></span></a>
													</td>
													<td th:text="#{product.cost}"><a href="" class="white-text templatemo-sort-by">Cost
															<span class="caret"></span></a></td>
												</tr>
											</thead>
											<tbody>
												<tr th:fragment="order2product" th:each="o2p,rowStat : ${order.order2product}" th:id="${rowStat.count}">
													<td th:text="${rowStat.count}">1</td>
													<input type="hidden" th:attr="name='order2product[__${rowStat.index}__].key'"  th:value="${o2p.key}">
													<input type="hidden" th:attr="name='order2product[__${rowStat.index}__].productKey'"  th:value="${o2p.product.key}">
													<input type="hidden" th:attr="name='order2product[__${rowStat.index}__].orderKey'"  th:value="${order.key}">
													<td th:text="${{o2p.product.productName}}">
														name</td>
													<td th:text="${{o2p.product.proTypeString}}">plant</td>
													<td>
														<input th:field="${order.order2product[__${rowStat.index}__].quantity}" type="number" class="form-control quantity" id="quantity" placeholder=0>
													</td>
													<td>
														<input th:field="${order.order2product[__${rowStat.index}__].amount}" type="number" class="form-control amount" id="amount" placeholder=0>
													</td>
													<td>
														<input th:value="${{o2p.product.cost}}" type="number" class="form-control cost" id="cost">
													</td>
												</tr>
											</tbody>
										</table>
									</div>
									<div class="pagination-wrap">
										<ul class="pagination">
											<li th:each="no : ${pageCount}"
												th:class="${#strings.equals(no,currPage)} ? active : ''">
												<a href="#" th:text="${{no}}" th:href="@{'http://'+ ${@environment.getProperty('server.hostname')} + ':' 
				      								+ ${@environment.getProperty('server.port')}} + ${'manage-order-update/product=' + {no} + ',' + {id}}">1</a>
											</li>
											<li>
												<a href="#" aria-label="Next">
													<span aria-hidden="true"><i class="fa fa-play"></i></span>
												</a>
											</li>
										</ul>
									</div>
									<div class="col-1">
										<div class="form-group">
											<button type="submit" class="templatemo-blue-button">Update</button>
										</div>
									</div>
								</div>
							</div>
						</div> <!-- Second row ends -->
					</form>
					<div class="templatemo-flex-row flex-content-row">
						<div class="templatemo-content-widget white-bg col-2">
							<i class="fa fa-times"></i>
							<div class="media margin-bottom-30">
								<div class="media-left padding-right-25">
									<a href="#">
										<img class="media-object img-circle templatemo-img-bordered"
											th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/images/person.jpg'" alt="Sunset">
									</a>
								</div>
								<div class="media-body">
									<h2 class="media-heading text-uppercase blue-text">John Barnet</h2>
									<p>Project Manager</p>
								</div>
							</div>
							<div class="table-responsive">
								<table class="table">
									<tbody>
										<tr>
											<td>
												<div class="circle green-bg"></div>
											</td>
											<td>New Task Issued</td>
											<td>02</td>
										</tr>
										<tr>
											<td>
												<div class="circle pink-bg"></div>
											</td>
											<td>Task Pending</td>
											<td>22</td>
										</tr>
										<tr>
											<td>
												<div class="circle blue-bg"></div>
											</td>
											<td>Inbox</td>
											<td>13</td>
										</tr>
										<tr>
											<td>
												<div class="circle yellow-bg"></div>
											</td>
											<td>New Notification</td>
											<td>18</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
						<div class="templatemo-content-widget white-bg col-1 text-center templatemo-position-relative">
							<i class="fa fa-times"></i>
							<img th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/images/person.jpg'" alt="Bicycle"
								class="img-circle img-thumbnail margin-bottom-30">
							<h2 class="text-uppercase blue-text margin-bottom-5">Paul Smith</h2>
							<h3 class="text-uppercase margin-bottom-70">Managing Director</h3>
							<div class="templatemo-social-icons-container">
								<div class="social-icon-wrap">
									<i class="fa fa-facebook templatemo-social-icon"></i>
								</div>
								<div class="social-icon-wrap">
									<i class="fa fa-twitter templatemo-social-icon"></i>
								</div>
								<div class="social-icon-wrap">
									<i class="fa fa-google-plus templatemo-social-icon"></i>
								</div>
							</div>
						</div>
						<div
							class="templatemo-content-widget white-bg col-1 templatemo-position-relative templatemo-content-img-bg">
							<img th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/images/sunset-big.jpg'" alt="Sunset" class="img-responsive content-bg-img">
							<i class="fa fa-heart"></i>
							<h2 class="templatemo-position-relative white-text">Sunset</h2>
							<div class="view-img-btn-wrap">
								<a href="" class="btn btn-default templatemo-view-img-btn">View</a>
							</div>
						</div>
					</div>
					<div class="pagination-wrap">
						<ul class="pagination">
							<li><a href="#">1</a></li>
							<li><a href="#">2</a></li>
							<li class="active"><a href="#">3 <span class="sr-only">(current)</span></a></li>
							<li><a href="#">4</a></li>
							<li><a href="#">5</a></li>
							<li>
								<a href="#" aria-label="Next">
									<span aria-hidden="true"><i class="fa fa-play"></i></span>
								</a>
							</li>
						</ul>
					</div>
					<footer class="text-right">
						<p>Copyright &copy; 2084 Company Name
							| Design: Template Mo</p>
					</footer>
				</div>
			</div>
		</div>
		
		

		<!-- JS -->
		<script type="text/javascript" th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/js/jquery-1.11.2.min.js'"></script> <!-- jQuery -->
		<script type="text/javascript" th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/js/templatemo-script.js'"></script> <!-- Templatemo Script -->
		<script>
			$(document).ready(function () {
				// Content widget with background image
				var imageUrl = $('img.content-bg-img').attr('src');
				$('.templatemo-content-img-bg').css('background-image', 'url(' + imageUrl + ')');
				$('img.content-bg-img').hide();
			});
		</script>
		<script type="text/javascript" th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/js/common-script.js'"></script>
		<script type="text/javascript" th:src="'http://'+ ${@environment.getProperty('server.hostname')} + ':'+ ${@environment.getProperty('server.port')} + '/js/orderview-script.js'"></script>
	</body>

</html>